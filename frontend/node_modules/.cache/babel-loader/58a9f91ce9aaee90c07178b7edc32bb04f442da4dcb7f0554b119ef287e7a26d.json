{"ast":null,"code":"import React from'react';import{motion}from'framer-motion';import{AlertTriangle,Shield,Eye,TrendingUp,Car}from'lucide-react';import Card from'../ui/Card';import Badge from'../ui/Badge';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ResultsDisplay=_ref=>{let{results,className=''}=_ref;const{summary}=results;const totalVehicles=summary.total_unique_vehicles;const dangerousCount=summary.dangerous_vehicles;const riskyCount=summary.risky_vehicles;const safeCount=summary.safe_vehicles;const getRiskColor=(count,total)=>{const percentage=count/total*100;if(percentage>50)return'text-danger-600';if(percentage>25)return'text-warning-600';return'text-success-600';};const getRiskLevel=()=>{if(dangerousCount>0)return'HIGH';if(riskyCount>totalVehicles*0.3)return'MEDIUM';return'LOW';};const riskLevel=getRiskLevel();return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 \".concat(className),children:[/*#__PURE__*/_jsx(Card,{className:\"p-6 bg-gradient-to-r from-slate-50 to-blue-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Analysis Complete\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Processed \",results.processed_frames,\" frames from \",results.total_frames,\" total frames\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"\\n              inline-flex items-center px-4 py-2 rounded-full text-sm font-medium\\n              \".concat(riskLevel==='HIGH'?'bg-danger-100 text-danger-800':riskLevel==='MEDIUM'?'bg-warning-100 text-warning-800':'bg-success-100 text-success-800',\"\\n            \"),children:[riskLevel==='HIGH'?/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-4 h-4 mr-2\"}):riskLevel==='MEDIUM'?/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4 mr-2\"}):/*#__PURE__*/_jsx(Shield,{className:\"w-4 h-4 mr-2\"}),riskLevel,\" RISK\"]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsxs(Card,{className:\"p-6 text-center hover\",glass:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-primary-100 rounded-full\",children:/*#__PURE__*/_jsx(Car,{className:\"w-6 h-6 text-primary-600\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:totalVehicles}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Vehicles\"})]}),/*#__PURE__*/_jsxs(Card,{className:\"p-6 text-center hover\",glass:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-danger-100 rounded-full\",children:/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-6 h-6 text-danger-600\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold mb-2 \".concat(getRiskColor(dangerousCount,totalVehicles)),children:dangerousCount}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-600\",children:\"Dangerous\"})]}),/*#__PURE__*/_jsxs(Card,{className:\"p-6 text-center hover\",glass:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-warning-100 rounded-full\",children:/*#__PURE__*/_jsx(Eye,{className:\"w-6 h-6 text-warning-600\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold mb-2 \".concat(getRiskColor(riskyCount,totalVehicles)),children:riskyCount}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-600\",children:\"Risky\"})]}),/*#__PURE__*/_jsxs(Card,{className:\"p-6 text-center hover\",glass:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-success-100 rounded-full\",children:/*#__PURE__*/_jsx(Shield,{className:\"w-6 h-6 text-success-600\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold mb-2 \".concat(getRiskColor(safeCount,totalVehicles)),children:safeCount}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-600\",children:\"Safe\"})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"p-6\",glass:true,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Risk Distribution\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:totalVehicles>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-danger-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Dangerous\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[(dangerousCount/totalVehicles*100).toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-danger-500 h-2 rounded-full transition-all duration-1000\",style:{width:\"\".concat(dangerousCount/totalVehicles*100,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-warning-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Risky\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[(riskyCount/totalVehicles*100).toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-warning-500 h-2 rounded-full transition-all duration-1000\",style:{width:\"\".concat(riskyCount/totalVehicles*100,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-success-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Safe\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[(safeCount/totalVehicles*100).toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-success-500 h-2 rounded-full transition-all duration-1000\",style:{width:\"\".concat(safeCount/totalVehicles*100,\"%\")}})})]})})]}),results.results.length>0&&/*#__PURE__*/_jsxs(Card,{className:\"p-6\",glass:true,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Detection Timeline\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 max-h-96 overflow-y-auto scrollbar-hide\",children:[results.results.slice(0,50).map((detection,index)=>/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:index*0.02},className:\"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-mono text-gray-500\",children:[\"Frame \",detection.frame]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-900\",children:[\"Vehicle \",detection.id]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Score: \",detection.behavior_score.toFixed(1)]}),/*#__PURE__*/_jsx(Badge,{variant:detection.risk_level==='DANGEROUS'?'dangerous':detection.risk_level==='RISKY'?'risky':'safe',size:\"sm\",children:detection.risk_level})]})]},\"\".concat(detection.frame,\"-\").concat(detection.id,\"-\").concat(index))),results.results.length>50&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-sm text-gray-500 pt-4\",children:[\"... and \",results.results.length-50,\" more detections\"]})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"p-6 bg-gradient-to-r from-blue-50 to-indigo-50\",glass:true,children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"w-5 h-5 mr-2 text-primary-600\"}),\"Key Insights\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium text-gray-800\",children:\"Safety Assessment\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:dangerousCount===0&&riskyCount===0?\"All vehicles exhibited safe driving behavior throughout the analysis.\":dangerousCount>0?\"\".concat(dangerousCount,\" vehicle(s) showed dangerous behavior patterns that require immediate attention.\"):\"\".concat(riskyCount,\" vehicle(s) displayed risky behavior that should be monitored.\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium text-gray-800\",children:\"Recommendation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:riskLevel==='HIGH'?\"Consider implementing immediate safety measures and increased monitoring.\":riskLevel==='MEDIUM'?\"Monitor traffic patterns and consider preventive safety measures.\":\"Traffic behavior appears normal. Continue regular monitoring.\"})]})]})]})]});};export default ResultsDisplay;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import axios from'axios';const API_BASE_URL=process.env.REACT_APP_API_URL||'https://visionbasedvehiclebehavior-production.up.railway.app';const api=axios.create({baseURL:API_BASE_URL,timeout:300000// 5 minutes for video processing\n});export const uploadVideo=async(file,onProgress)=>{const formData=new FormData();formData.append('file',file);const response=await api.post('/upload',formData,{headers:{'Content-Type':'multipart/form-data'},onUploadProgress:progressEvent=>{if(onProgress&&progressEvent.total){const progress={loaded:progressEvent.loaded,total:progressEvent.total,percentage:Math.round(progressEvent.loaded*100/progressEvent.total)};onProgress(progress);}}});return response.data;};export const processFrame=async imageData=>{const response=await api.post('/process_frame',{image:imageData});return response.data;};export const getSampleVideos=async()=>{const response=await api.get('/sample_videos');return response.data;};export const processSampleVideo=async videoId=>{const response=await api.post(\"/process_sample/\".concat(videoId));return response.data;};export const getHealthCheck=async()=>{const response=await api.get('/health');return response.data;};","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","timeout","uploadVideo","file","onProgress","formData","FormData","append","response","post","headers","onUploadProgress","progressEvent","total","progress","loaded","percentage","Math","round","data","processFrame","imageData","image","getSampleVideos","get","processSampleVideo","videoId","concat","getHealthCheck"],"sources":["/Users/danielpark/Documents/testClaudeCode/visionBasedVehicleBehavior/frontend/src/utils/api.ts"],"sourcesContent":["import axios from 'axios';\nimport { ProcessingResult, VideoAnalysisResult, UploadProgress } from '../types';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'https://visionbasedvehiclebehavior-production.up.railway.app';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 300000, // 5 minutes for video processing\n});\n\nexport const uploadVideo = async (\n  file: File,\n  onProgress?: (progress: UploadProgress) => void\n): Promise<VideoAnalysisResult> => {\n  const formData = new FormData();\n  formData.append('file', file);\n\n  const response = await api.post('/upload', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n    onUploadProgress: (progressEvent) => {\n      if (onProgress && progressEvent.total) {\n        const progress: UploadProgress = {\n          loaded: progressEvent.loaded,\n          total: progressEvent.total,\n          percentage: Math.round((progressEvent.loaded * 100) / progressEvent.total),\n        };\n        onProgress(progress);\n      }\n    },\n  });\n\n  return response.data;\n};\n\nexport const processFrame = async (imageData: string): Promise<ProcessingResult> => {\n  const response = await api.post('/process_frame', {\n    image: imageData,\n  });\n\n  return response.data;\n};\n\nexport const getSampleVideos = async () => {\n  const response = await api.get('/sample_videos');\n  return response.data;\n};\n\nexport const processSampleVideo = async (videoId: string): Promise<VideoAnalysisResult> => {\n  const response = await api.post(`/process_sample/${videoId}`);\n  return response.data;\n};\n\nexport const getHealthCheck = async () => {\n  const response = await api.get('/health');\n  return response.data;\n};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAGzB,KAAM,CAAAC,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,8DAA8D,CAEpH,KAAM,CAAAC,GAAG,CAAGL,KAAK,CAACM,MAAM,CAAC,CACvBC,OAAO,CAAEN,YAAY,CACrBO,OAAO,CAAE,MAAQ;AACnB,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAC,WAAW,CAAG,KAAAA,CACzBC,IAAU,CACVC,UAA+C,GACd,CACjC,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEJ,IAAI,CAAC,CAE7B,KAAM,CAAAK,QAAQ,CAAG,KAAM,CAAAV,GAAG,CAACW,IAAI,CAAC,SAAS,CAAEJ,QAAQ,CAAE,CACnDK,OAAO,CAAE,CACP,cAAc,CAAE,qBAClB,CAAC,CACDC,gBAAgB,CAAGC,aAAa,EAAK,CACnC,GAAIR,UAAU,EAAIQ,aAAa,CAACC,KAAK,CAAE,CACrC,KAAM,CAAAC,QAAwB,CAAG,CAC/BC,MAAM,CAAEH,aAAa,CAACG,MAAM,CAC5BF,KAAK,CAAED,aAAa,CAACC,KAAK,CAC1BG,UAAU,CAAEC,IAAI,CAACC,KAAK,CAAEN,aAAa,CAACG,MAAM,CAAG,GAAG,CAAIH,aAAa,CAACC,KAAK,CAC3E,CAAC,CACDT,UAAU,CAACU,QAAQ,CAAC,CACtB,CACF,CACF,CAAC,CAAC,CAEF,MAAO,CAAAN,QAAQ,CAACW,IAAI,CACtB,CAAC,CAED,MAAO,MAAM,CAAAC,YAAY,CAAG,KAAO,CAAAC,SAAiB,EAAgC,CAClF,KAAM,CAAAb,QAAQ,CAAG,KAAM,CAAAV,GAAG,CAACW,IAAI,CAAC,gBAAgB,CAAE,CAChDa,KAAK,CAAED,SACT,CAAC,CAAC,CAEF,MAAO,CAAAb,QAAQ,CAACW,IAAI,CACtB,CAAC,CAED,MAAO,MAAM,CAAAI,eAAe,CAAG,KAAAA,CAAA,GAAY,CACzC,KAAM,CAAAf,QAAQ,CAAG,KAAM,CAAAV,GAAG,CAAC0B,GAAG,CAAC,gBAAgB,CAAC,CAChD,MAAO,CAAAhB,QAAQ,CAACW,IAAI,CACtB,CAAC,CAED,MAAO,MAAM,CAAAM,kBAAkB,CAAG,KAAO,CAAAC,OAAe,EAAmC,CACzF,KAAM,CAAAlB,QAAQ,CAAG,KAAM,CAAAV,GAAG,CAACW,IAAI,oBAAAkB,MAAA,CAAoBD,OAAO,CAAE,CAAC,CAC7D,MAAO,CAAAlB,QAAQ,CAACW,IAAI,CACtB,CAAC,CAED,MAAO,MAAM,CAAAS,cAAc,CAAG,KAAAA,CAAA,GAAY,CACxC,KAAM,CAAApB,QAAQ,CAAG,KAAM,CAAAV,GAAG,CAAC0B,GAAG,CAAC,SAAS,CAAC,CACzC,MAAO,CAAAhB,QAAQ,CAACW,IAAI,CACtB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}